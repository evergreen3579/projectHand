-- 데이터베이스 생성
CREATE DATABASE 동아리;
USE 동아리;

-- ID 테이블 생성
CREATE TABLE ID (
    id INT PRIMARY KEY AUTO_INCREMENT COMMENT '사용자 고유 ID',
    username VARCHAR(50) NOT NULL COMMENT '사용자 이름 또는 아이디',
    password VARCHAR(255) NOT NULL COMMENT '사용자 비밀번호',
    email VARCHAR(100) NOT NULL COMMENT '사용자 이메일 주소',
    name VARCHAR(100) NOT NULL COMMENT '사용자 이름',
    phone VARCHAR(20) COMMENT '사용자 전화번호',
    gender ENUM('male', 'female', 'other') COMMENT '사용자 성별',
    age INT COMMENT '사용자 나이',
    role ENUM('user', 'moderator', 'admin') NOT NULL COMMENT '사용자 권한 (user, moderator, admin)'
) COMMENT='사용자 정보 및 로그인 정보 테이블';

-- 블로그글작성테이블 생성
CREATE TABLE 블로그글작성테이블 (
    post_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '블로그 글 고유 ID',
    user_id INT COMMENT '작성자 ID (ID 테이블 참조)',
    title VARCHAR(200) COMMENT '블로그 글 제목',
    content TEXT COMMENT '블로그 글 내용',
    // location TEXT, -- 장소 정보를 저장할 필드 (주소나 좌표 정보 등) - 네이버API 연동하였을 때 예
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '작성 시간',
    FOREIGN KEY (user_id) REFERENCES ID(id)
) COMMENT='사용자가 작성한 블로그 글 테이블';

-- 댓글 테이블 생성
CREATE TABLE 댓글 (
    comment_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '댓글 고유 ID',
    post_id INT COMMENT '블로그 글 ID (블로그글작성테이블 참조)',
    user_id INT COMMENT '댓글 작성자 ID (ID 테이블 참조)',
    comment TEXT COMMENT '댓글 내용',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '댓글 작성 시간',
    FOREIGN KEY (post_id) REFERENCES 블로그글작성테이블(post_id),
    FOREIGN KEY (user_id) REFERENCES ID(id)
) COMMENT='블로그 글에 대한 댓글 테이블';

-- 쪽지 테이블 생성
CREATE TABLE 쪽지 (
    message_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '쪽지 고유 ID',
    sender_id INT COMMENT '발신자 ID (ID 테이블 참조)',
    receiver_id INT COMMENT '수신자 ID (ID 테이블 참조)',
    subject VARCHAR(200) COMMENT '쪽지 제목',
    message TEXT COMMENT '쪽지 내용',
    sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '쪽지 보낸 시간',
    FOREIGN KEY (sender_id) REFERENCES ID(id),
    FOREIGN KEY (receiver_id) REFERENCES ID(id)
) COMMENT='사용자 간 주고받은 쪽지 테이블';

-- 파일 첨부 테이블 생성
CREATE TABLE 파일첨부 (
    file_id INT PRIMARY KEY AUTO_INCREMENT COMMENT '파일 고유 ID',
    post_id INT COMMENT '블로그 글 ID (블로그글작성테이블 참조)',
    file_path VARCHAR(255) NOT NULL COMMENT '파일 경로',
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT '업로드 시간',
    FOREIGN KEY (post_id) REFERENCES 블로그글작성테이블(post_id)
) COMMENT='블로그 글에 첨부된 파일 테이블';
아무거나